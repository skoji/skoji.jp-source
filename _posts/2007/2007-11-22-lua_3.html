---
layout: post
title: 'Luaの勉強: 3'
date: 2007-11-22 12:48:11.000000000 +09:00
type: post
published: true
status: publish
categories:
- Lua
tags: []
meta: {}
author:
  login: skoji
  email: skoji@mac.com
  display_name: skoji
  first_name: ''
  last_name: ''
---
<p>Luaリファレンスマニュアルの<a href="http://sugarpot.sakura.ne.jp/yuno/html/lua51_manual_ja.html">日本語訳</a>でお勉強第三回です。もともとの目的だったLightroom SDKも並行して調べてますが、そっちはあとでまとめて書きます。</p>
<h4>メタテーブル</h4>
<p>大雑把にいえばメタテーブルは演算子オーバーロードを実現する仕組み、ですね(といい加減なことを書くとえらいひとに怒られるかもしれませんが)。</p>
<p>値は「メタテーブル」を持つことができます。メタテーブルは、連結とか長さとか加算とかの演算子の振る舞い定義に使われます。+が呼ばれたときに、メタテーブルのaddメタメソッドが呼ばれる、という風に動きます。</p>
<p>テーブルやユーザデータ(ってのはC言語側データでバイト列として扱われる)のメタテーブルは、setmetatable関数で変更できます。ほかの基本型のメタテーブルは変更できません(C APIでは変更できる、そうですが)。</p>
<p>加算とか減算とかだけじゃなくて、「値を関数呼び出ししたときに呼ばれる」メタメソッドなんてのもあります。</p>
<p>う、時間切れです。今回はここまで。</p>
