---
layout: post
title: Emacs 30.2をインストールした
date: '2025-11-28T14:30:09+09:00'
image: images/emacs.png
categories:
 - 開発環境
---

これまでbrewのemacs-macのEmacs 29を使ってきたのだが、30も既に30.2が出ている。
久しぶりに手元でビルドしたものを使ってみた。

[ns-inline-patch](https://github.com/takaxp/ns-inline-patch)を利用させていただいた。ここのbuild/emacs-30.shで、`--with-tree-sitter=yes`にした上で、native compileありでビルドした。

native compileありでビルドしたものを起動すると、`libgccjit.so: error: error invoking gcc driver`が出まくるので、init.elの先頭に以下を追記した。

```
(when (eq system-type 'darwin)
  (setenv "LIBRARY_PATH"
          (string-join
           '("/opt/homebrew/opt/gcc/lib/gcc/15"
             "/opt/homebrew/opt/libgccjit/lib/gcc/15"
             "/opt/homebrew/opt/gcc/lib/gcc/15/gcc/aarch64-apple-darwin25/15")
           ":")))
```

