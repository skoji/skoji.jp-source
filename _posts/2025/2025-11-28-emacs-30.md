---
title: Emacs 30.2をインストールした
date: 2025-11-28T14:30:00+09:00
image: /blog/images/emacs.png
categories:
  - 開発環境
layout: post
---
これまでbrewのemacs-macのEmacs 29を使ってきたのだが、30も既に30.2が出ている。
久しぶりに手元でビルドしたものを使ってみた。

[ns-inline-patch](https://github.com/takaxp/ns-inline-patch)を利用させていただいた。ここの`build/emacs-30.sh`で、`--with-tree-sitter=yes`にした上で、native compileありでビルドした。

native compilationありでビルドしたものを起動すると`libgccjit.so: error: error invoking gcc driver`が出まくってnative compilationが動作しないので、init.elの先頭に以下を追記した。

```lisp
(when (eq system-type 'darwin)
  (setenv "LIBRARY_PATH"
          (string-join
           '("/opt/homebrew/opt/gcc/lib/gcc/15"
             "/opt/homebrew/opt/libgccjit/lib/gcc/15"
             "/opt/homebrew/opt/gcc/lib/gcc/15/gcc/aarch64-apple-darwin25/15")
           ":")))
```
