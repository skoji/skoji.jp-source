---
layout: default
---
<article class="post">

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
  </header>

  <div class="post-content">
    {% assign year = page.year %}
    {% assign month = page.month %}

    {% assign advent_posts = site.posts | where_exp: "post", "post.categories contains 'ひとりアドベントカレンダー'" %}

    {% assign first_date = year | append: "-" | append: month | append: "-01" %}
    {% assign first_day_of_week = first_date | date: "%u" | plus: 0 %}
    {% if page.description %}
    <p class="advent-calendar-description">
      {{ page.description }}
    </p>
    {% endif %}

    <div class="calendar-wrapper">
      <div class="calendar">
        <ul class="weekdays" aria-hidden="true">
          <li class="day-name">Mon</li>
          <li class="day-name">Tue</li>
          <li class="day-name">Wed</li>
          <li class="day-name">Thu</li>
          <li class="day-name">Fri</li>
          <li class="day-name saturday">Sat</li>
          <li class="day-name sunday">Sun</li>
        </ul>
        <ol class="dates" style="--first-day: {{ first_day_of_week }}">
          {% for i in (1..24) %}
          {% assign day = i %}
          {% assign day_string = day %}
          {% if day < 10 %}
          {% assign day_string = "0" | append: day %}
          {% endif %}

          {% comment %}該当する日付の記事を探す{% endcomment %}
          {% assign found_post = nil %}
          {% for post in advent_posts %}
          {% assign post_date = post.date | date: "%Y-%m-%d" %}
          {% assign target_date = year | append: "-" | append: month | append: "-" | append: day_string %}
          {% if post_date == target_date %}
          {% assign found_post = post %}
          {% endif %}
          {% endfor %}

          {% if found_post %}
          <li class="advent-day has-post">
            <a class="advent-day-link" href="{{ found_post.url | prepend: site.baseurl }}">
              <div class="day-number">{{ day }}日</div>
              <div class="post-info">
                <div class="advent-post-title">{{ found_post.title }}</div>
                {% comment %}
                jekyll-auto-imageで取得した画像を表示（デフォルト画像を除く）
                {% endcomment %}
                {% if found_post.image and found_post.image != "" and found_post.image != "/blog/assets/logo.png" %}
                <div class="post-image">
                  <img src="{{ found_post.image }}" alt="{{ found_post.title }}">
                </div>
                {% endif %}
              </div>
            </a>
          </li>
          {% else %}
          <li class="advent-day">
            <div class="day-number">{{ day }}日</div>
          </li>
          {% endif %}
          {% endfor %}
        </ol>
      </div>
    </div>

    <p style="text-align: center; margin-top: 30px;">
      <a href="{{ site.baseurl }}/advent-calendars/">← back to advent calendars</a>
    </p>
  </div>

</article>
